---
date: 2023-03-17 14:00:00 +0900
title: Disjoint Set을 배웠는데 왜 쓰질 못 하니
excerpt: 알고리즘 문제는 자료구조 설계가 전부이다
categories: dev
---

**스포일러 주의:** 본 글은 [SW Expert Academy](https://swexpertacademy.com/main/main.do)의
1849번 문제 "영준이의 무게측정" 풀이법을 포함하고 있습니다.
{: .notice }

## 어라 이게 왜 안 풀리지?

알고리즘 문제 풀다가 하도 안 풀려서 이 글을 적어본다. 알고리즘 교육에서 하루에
3문제 정도를 푸는데, 2문제가 평소보다 빨리 풀려서 기분 좋게 마지막 문제를 플고
있었다. 레벨이 좀 높은 문제이기도 했고input과 output이 좀 복잡해서 무엇을
해결해야 하는 지 이해하는데 시간이 좀 걸렸다. 다행히도 머릿속에 로직이 바로
떠올랐고 생각한대로 구현하기만 하면 되었다.

주어진 input 테스트케이스는 3개. 아주 단순했다. 시험삼아 몇 번 돌려보며 부호나
순서 정리 좀 하니 정확한 결과값이 출력되었다. 코드 그대로 사이트에 올려서
채점하기를 눌렀는데, 어라, Timeout이 나왔다. 메모리는 넉넉해서 메모이제이션
쓰면서 시간을 줄여보려 했지만 주어진 시간이 너무 짧아 Stack Overflow도 아니고
Timeout만 계속 나왔다.

하루 종일 Timeout을 없엘 수 있는 방법을 강구했지만 해결하지 못 했다. 다음 날
오전 문제풀이 시간에 해설을 좀 들으려고 했는데 문제 난이도 대비 설명이 너무
짧았다. 어쩔 수 없이 모범답안을 보고 해당 문제를 분석해보기로 했다.
제시된 정답은 C로 작성되었는데 로직 그대로 C++로 만들어도 Timeout이 나왔다.
다시 C로 바꾸고 나서야 Pass 되는 것을 보고 해당 언어에 해당 Approach가
아니고선 풀 수 없는 문제였음을 알게 되었다. 방법만 맞으면 되었지 아주 괘씸한
문제라는 생각이 들었지만, 모범답안의 Approach는 이번 기회에 확실하게 머릿속에
정리하기로 결심했다.

## 대략적인 문제 설명

## 나의 풀이 방법

### 1차시기: Map을 써보자

### 2차시기: 가지치기를 하자

## 패러다임의 전환

### Disjoint Set?

### 값을 넣고 꺼내는 형식

### 압축해서 저장하기

## 이래도 되는가?

### += 연산

### W[pa] 변경 연산

## 결론

### 자료구조... 자료구조!!!

만약 이 문제를 보자마자 Disjoint Set이 떠올랐다면 이 글을 쓰지도 않았을
것이다.

### 
